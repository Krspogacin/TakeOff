<h1 mat-dialog-title *ngIf="!update">Add Rent A Car Main Service</h1>
<h1 mat-dialog-title *ngIf="update">Update Rent A Car Main Service</h1>
<mat-dialog-content [formGroup]="rentACarMainServicesForm" class="fields-container" id="scrollId">
    <mat-form-field>
        <input matInput type="text" formControlName="name" placeholder="Name" required>
        <mat-error *ngIf="rentACarMainServicesForm.get('name').invalid && (rentACarMainServicesForm.get('name').dirty || rentACarMainServicesForm.get('name').touched)">
            <div *ngIf="rentACarMainServicesForm.get('name').errors.required"> Name is required.</div>
            <div *ngIf="rentACarMainServicesForm.get('name').errors.nameExists"> 
                Rent A Car Main Service with name <i>{{rentACarMainServicesForm.value.name}}</i> already exists.<br>
            </div>
        </mat-error>
        <mat-hint>
                Rent A Car Main Service name must be unique. <br>
        </mat-hint>
    </mat-form-field>
    <br>
    <mat-form-field>
        <input matInput type="number" formControlName="startDay" placeholder="Start day" required>
        <mat-error *ngIf="rentACarMainServicesForm.get('startDay').invalid && (rentACarMainServicesForm.get('startDay').dirty || rentACarMainServicesForm.get('startDay').touched)">
            <div *ngIf="rentACarMainServicesForm.get('startDay').errors.required"> Start day is required.</div>
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
        <input matInput type="number" formControlName="endDay" placeholder="End day">
    </mat-form-field>
    <br>
    <h3 *ngIf="vehicles && vehicles.length > 0">Enter prices for this service: </h3>
    <div class="box" *ngIf="vehicles && vehicles.length > 0">
        <mat-list>
            <div *ngFor="let vehicle of vehicles" style="display: flex;">
                <mat-list-item>{{vehicle.brand + ' ' + vehicle.model}}</mat-list-item>
                <mat-form-field>
                    <input matInput type="number" placeholder="Enter price" 
                        [formControlName]="vehicle.id"
                        autocomplete="off" required>
                </mat-form-field>
            </div>
        </mat-list>
    </div>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-raised-button color="primary" type="submit" (click)="submitForm()" [disabled]="rentACarMainServicesForm.invalid">Confirm</button>
  <button mat-raised-button [mat-dialog-close]>Cancel</button>
</mat-dialog-actions>